website:
  name: army-gpt
  description: Collection of AI tools and agents for army dudes
  deployment: single docker container
  ethos and intent:
    - Keep user messages out of logs and browser side only
    - Keep user identifiable data out of logs and browser side only
    - Provide a simple interface for users to interact with the tools and agents

directory_structure: |
  army-gpt/
  ├── .appLogic/
  │   ├── overview.yml
  │   ├── pace-note.yml
  │   └── policy-foo.yml
  ├── src/
  │   ├── frontend/
  │   │   ├── templates/   # HTML templates
  │   │   │   ├── index.html
  │   │   │   └── pace-notes.html
  │   │   └── static/      # Static assets
  │   │       ├── css/
  │   │       ├── js/
  │   │       └── img/
  │   ├── backend/
  │   │   ├── llm/         # LLM-specific code
  │   │   │   ├── __init__.py
  │   │   │   ├── provider.py
  │   │   │   ├── routes.py        # API endpoints for LLM tools
  │   │   │   └── monitoring.py
  │   │   ├── pacenote/    # Pace notes module
  │   │   │   └── __init__.py      # Contains PaceNoteAgent
  │   │   └── utils/       # Shared utilities
  │   │       ├── errors.py
  │   │       ├── logger.py
  │   │       ├── monitoring.py
  │   │       ├── rate_limit.py
  │   │       └── web.py
  │   └── prompts/         # LLM system prompts
  │       └── pace-note.md
  ├── tests/               # Test files
  ├── data/                # Temp data storage
  ├── Dockerfile
  ├── docker-compose.yml
  ├── requirements.txt
  └── README.md

structure:
  frontend:
    components:
      header:
        - navigation_tabs:
            type: simple_tabs
            tabs:
              - pace-notes
              - policy-foo
              - coming_soon
      main_page:
        - tools_grid:
            layout: simple_cards
            components:
              - tool_card:
                  - tool_name
                  - brief_description
                  - donate_button # will implement at end of project
        - costs_accrued:
            - small section keeping tally of costs accrued from LLM API calls and server rent.
            - top right and out of the way
            - only updates once, at initial page load
            - keep data in /data/costs.json
        - metrics_and_logs:
            - declare to the user all metrics and logs in a simple way
            - explain what is logged and stored
            - explain what is held temporarily and what is held permanently
            - explain why telemetry is collected

      tool_pages:
        pace_notes_page: /.appLogic/pace-note.yml
        policy_foo_page: /.appLogic/policy-foo.yml
        coming_soon_page: 

  backend:
    server: fastapi
    knowledge_base:
      - /policies
    endpoints:
      - /llm/pace-notes/generate:
          methods: [POST]
          description: Generate pace notes using LLM
    
    rate_limiting:
      strategy: sliding_window
      identification:
        primary: ip_address
        secondary:
          - session_token:
              type: jwt
              expiry: 24 hours
              purpose: session_token
      limits:
        - 15 requests [user-messages] per hour
        - 50 requests [user-messages] per day
    state_management:
      type: in_memory
      chat_history: ephemeral
    tools_and_agents:
      - pace_notes: /.appLogic/pace_notes.yml
      - policy_foo: /.appLogic/policy_foo.yml

docker:
  configuration:
    ports:
      - 8020:8020
    environment:
      - AI_API_KEYS
      - RATE_LIMIT_SETTINGS
    volumes:
      - ./data:/data

monitoring:
  basic_metrics: # open telemetry compatible metrics
    - No logging of user data
    - No logging of user messages # unless in debug mode
    - server_health
    - request_counts and rates
    - user_counts and activity
    - error_logs